Date.prototype.format=function(a,b){var c={"Y+":this.getFullYear(),"M+":this.getMonth()+1,"w+":this.getDay(),"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),"S+":this.getMilliseconds()},d={en:{MMM:"null jan feb mar apr may jun jul aug sep oct nov dec".split(" "),www:"sun mon tue wed thu fri sat".split(" ")},zh:{MMM:"null 一月 二月 三月 四月 五月 六月 七月 八月 九月 十月 十一月 十二月".split(" "),www:"星期日 星期一 星期二 星期三 星期四 星期五 星期六".split(" ")}};for(var e in c){var f="("+e+")",g=(new RegExp(f).test(a),RegExp.$1);a=3==g.length?a.replace(g,b?b:"en_"+g+"_"+c[e]):a.replace(g,("00"+c[e]).substr(-g.length))}return a=a.replace(/(\w+)_(\w+)_(\w+)/g,function(a,b,c,e){try{return d[b][c][e]}catch(f){alert(f)}})};